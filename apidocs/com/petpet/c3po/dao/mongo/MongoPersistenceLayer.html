<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_45) on Sat May 18 16:26:07 CEST 2013 -->
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>
MongoPersistenceLayer (C3PO 0.4.0-SNAPSHOT API)
</TITLE>

<META NAME="date" CONTENT="2013-05-18">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="MongoPersistenceLayer (C3PO 0.4.0-SNAPSHOT API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/MongoPersistenceLayer.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../com/petpet/c3po/dao/mongo/MongoModelSerializer.html" title="interface in com.petpet.c3po.dao.mongo"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../com/petpet/c3po/dao/mongo/MongoPropertyDeserialzer.html" title="class in com.petpet.c3po.dao.mongo"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?com/petpet/c3po/dao/mongo/MongoPersistenceLayer.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="MongoPersistenceLayer.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.petpet.c3po.dao.mongo</FONT>
<BR>
Class MongoPersistenceLayer</H2>
<PRE>
<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</A>
  <IMG SRC="../../../../../resources/inherit.gif" ALT="extended by "><B>com.petpet.c3po.dao.mongo.MongoPersistenceLayer</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../../../../com/petpet/c3po/api/dao/PersistenceLayer.html" title="interface in com.petpet.c3po.api.dao">PersistenceLayer</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>MongoPersistenceLayer</B><DT>extends <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A><DT>implements <A HREF="../../../../../com/petpet/c3po/api/dao/PersistenceLayer.html" title="interface in com.petpet.c3po.api.dao">PersistenceLayer</A></DL>
</PRE>

<P>
A MongoDB (http://www.mongodb.org) specific back-end persistence layer
 implementation.
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>Petar Petrov <me@petarpetrov.org></DD>
</DL>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/petpet/c3po/dao/mongo/MongoPersistenceLayer.html#AGGREGATE_FINALIZE">AGGREGATE_FINALIZE</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A finalize function for the aggregation map reduce job, to calculate the
 average, standard deviation and variance.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/petpet/c3po/dao/mongo/MongoPersistenceLayer.html#AGGREGATE_MAP">AGGREGATE_MAP</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A javascript Map function for calculating the min, max, sum, avg, sd and
 var of a numeric property.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/petpet/c3po/dao/mongo/MongoPersistenceLayer.html#AGGREGATE_REDUCE">AGGREGATE_REDUCE</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The reduce of the aggregation functions.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/petpet/c3po/dao/mongo/MongoPersistenceLayer.html#DATE_HISTOGRAM_MAP">DATE_HISTOGRAM_MAP</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A javascript Map function for building a histogram over a specific date
 property.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/petpet/c3po/dao/mongo/MongoPersistenceLayer.html#HISTOGRAM_MAP">HISTOGRAM_MAP</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A javascript Map function for building a histogram of a specific property.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/petpet/c3po/dao/mongo/MongoPersistenceLayer.html#HISTOGRAM_REDUCE">HISTOGRAM_REDUCE</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The reduce function for the <CODE>Constants#HISTOGRAM_MAP</CODE>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/petpet/c3po/dao/mongo/MongoPersistenceLayer.html#NUMERIC_HISTOGRAM_MAP">NUMERIC_HISTOGRAM_MAP</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A javascript Map function for building a histogram with fixed bin size.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../com/petpet/c3po/dao/mongo/MongoPersistenceLayer.html#MongoPersistenceLayer()">MongoPersistenceLayer</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The constructor initializes all needed objects, such as the serializers and
 deserializers.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/petpet/c3po/dao/mongo/MongoPersistenceLayer.html#clearCache()">clearCache</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clears the <A HREF="../../../../../com/petpet/c3po/dao/DBCache.html" title="class in com.petpet.c3po.dao"><CODE>DBCache</CODE></A> and removes all internally managed mongo
 collection that store cached results.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/petpet/c3po/dao/mongo/MongoPersistenceLayer.html#close()">close</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If the connection is open, then this method closes it.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" SUMMARY="">
<TR ALIGN="right" VALIGN="">
<TD NOWRAP><FONT SIZE="-1">
<CODE>&lt;T extends <A HREF="../../../../../com/petpet/c3po/api/model/Model.html" title="interface in com.petpet.c3po.api.model">Model</A>&gt; 
<BR>
long</CODE></FONT></TD>
</TR>
</TABLE>
</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/petpet/c3po/dao/mongo/MongoPersistenceLayer.html#count(java.lang.Class, com.petpet.c3po.api.model.helper.Filter)">count</A></B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</A>&lt;T&gt;&nbsp;clazz,
      <A HREF="../../../../../com/petpet/c3po/api/model/helper/Filter.html" title="class in com.petpet.c3po.api.model.helper">Filter</A>&nbsp;filter)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Counts the number of objects of the given type that match the filter.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" SUMMARY="">
<TR ALIGN="right" VALIGN="">
<TD NOWRAP><FONT SIZE="-1">
<CODE>&lt;T extends <A HREF="../../../../../com/petpet/c3po/api/model/Model.html" title="interface in com.petpet.c3po.api.model">Model</A>&gt; 
<BR>
<A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&gt;</CODE></FONT></TD>
</TR>
</TABLE>
</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/petpet/c3po/dao/mongo/MongoPersistenceLayer.html#distinct(java.lang.Class, java.lang.String, com.petpet.c3po.api.model.helper.Filter)">distinct</A></B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</A>&lt;T&gt;&nbsp;clazz,
         <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;f,
         <A HREF="../../../../../com/petpet/c3po/api/model/helper/Filter.html" title="class in com.petpet.c3po.api.model.helper">Filter</A>&nbsp;filter)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the distinct values for the given property (in string form).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/petpet/c3po/dao/mongo/MongoPersistenceLayer.html#establishConnection(java.util.Map)">establishConnection</A></B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&gt;&nbsp;config)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Establishes the connection to mongo database.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" SUMMARY="">
<TR ALIGN="right" VALIGN="">
<TD NOWRAP><FONT SIZE="-1">
<CODE>&lt;T extends <A HREF="../../../../../com/petpet/c3po/api/model/Model.html" title="interface in com.petpet.c3po.api.model">Model</A>&gt; 
<BR>
<A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</A>&lt;T&gt;</CODE></FONT></TD>
</TR>
</TABLE>
</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/petpet/c3po/dao/mongo/MongoPersistenceLayer.html#find(java.lang.Class, com.petpet.c3po.api.model.helper.Filter)">find</A></B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</A>&lt;T&gt;&nbsp;clazz,
     <A HREF="../../../../../com/petpet/c3po/api/model/helper/Filter.html" title="class in com.petpet.c3po.api.model.helper">Filter</A>&nbsp;filter)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Finds objects corresponding to the supplied filter and type.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../com/petpet/c3po/api/dao/Cache.html" title="interface in com.petpet.c3po.api.dao">Cache</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/petpet/c3po/dao/mongo/MongoPersistenceLayer.html#getCache()">getCache</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets a cache object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../com/petpet/c3po/api/model/helper/NumericStatistics.html" title="class in com.petpet.c3po.api.model.helper">NumericStatistics</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/petpet/c3po/dao/mongo/MongoPersistenceLayer.html#getNumericStatistics(com.petpet.c3po.api.model.Property, com.petpet.c3po.api.model.helper.Filter)">getNumericStatistics</A></B>(<A HREF="../../../../../com/petpet/c3po/api/model/Property.html" title="class in com.petpet.c3po.api.model">Property</A>&nbsp;p,
                     <A HREF="../../../../../com/petpet/c3po/api/model/helper/Filter.html" title="class in com.petpet.c3po.api.model.helper">Filter</A>&nbsp;filter)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the numeric statistics for the given property and the given filter.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" SUMMARY="">
<TR ALIGN="right" VALIGN="">
<TD NOWRAP><FONT SIZE="-1">
<CODE>&lt;T extends <A HREF="../../../../../com/petpet/c3po/api/model/Model.html" title="interface in com.petpet.c3po.api.model">Model</A>&gt; 
<BR>
<A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</A>&gt;</CODE></FONT></TD>
</TR>
</TABLE>
</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/petpet/c3po/dao/mongo/MongoPersistenceLayer.html#getValueHistogramFor(com.petpet.c3po.api.model.Property, com.petpet.c3po.api.model.helper.Filter)">getValueHistogramFor</A></B>(<A HREF="../../../../../com/petpet/c3po/api/model/Property.html" title="class in com.petpet.c3po.api.model">Property</A>&nbsp;p,
                     <A HREF="../../../../../com/petpet/c3po/api/model/helper/Filter.html" title="class in com.petpet.c3po.api.model.helper">Filter</A>&nbsp;filter)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets a value histogram for the given property and the given filter.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" SUMMARY="">
<TR ALIGN="right" VALIGN="">
<TD NOWRAP><FONT SIZE="-1">
<CODE>&lt;T extends <A HREF="../../../../../com/petpet/c3po/api/model/Model.html" title="interface in com.petpet.c3po.api.model">Model</A>&gt; 
<BR>
void</CODE></FONT></TD>
</TR>
</TABLE>
</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/petpet/c3po/dao/mongo/MongoPersistenceLayer.html#insert(T)">insert</A></B>(T&nbsp;object)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Inserts the given object to the underlying data store.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/petpet/c3po/dao/mongo/MongoPersistenceLayer.html#isConnected()">isConnected</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Whether or not the persistence layer is connected.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" SUMMARY="">
<TR ALIGN="right" VALIGN="">
<TD NOWRAP><FONT SIZE="-1">
<CODE>&lt;T extends <A HREF="../../../../../com/petpet/c3po/api/model/Model.html" title="interface in com.petpet.c3po.api.model">Model</A>&gt; 
<BR>
void</CODE></FONT></TD>
</TR>
</TABLE>
</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/petpet/c3po/dao/mongo/MongoPersistenceLayer.html#remove(java.lang.Class, com.petpet.c3po.api.model.helper.Filter)">remove</A></B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</A>&lt;T&gt;&nbsp;clazz,
       <A HREF="../../../../../com/petpet/c3po/api/model/helper/Filter.html" title="class in com.petpet.c3po.api.model.helper">Filter</A>&nbsp;filter)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removes the objects of the given type that match the filter from the
 underlying data store.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" SUMMARY="">
<TR ALIGN="right" VALIGN="">
<TD NOWRAP><FONT SIZE="-1">
<CODE>&lt;T extends <A HREF="../../../../../com/petpet/c3po/api/model/Model.html" title="interface in com.petpet.c3po.api.model">Model</A>&gt; 
<BR>
void</CODE></FONT></TD>
</TR>
</TABLE>
</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/petpet/c3po/dao/mongo/MongoPersistenceLayer.html#remove(T)">remove</A></B>(T&nbsp;object)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removes the given object from the underlying data store.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/petpet/c3po/dao/mongo/MongoPersistenceLayer.html#setCache(com.petpet.c3po.api.dao.Cache)">setCache</A></B>(<A HREF="../../../../../com/petpet/c3po/api/dao/Cache.html" title="interface in com.petpet.c3po.api.dao">Cache</A>&nbsp;c)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the cache to the passed cache.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" SUMMARY="">
<TR ALIGN="right" VALIGN="">
<TD NOWRAP><FONT SIZE="-1">
<CODE>&lt;T extends <A HREF="../../../../../com/petpet/c3po/api/model/Model.html" title="interface in com.petpet.c3po.api.model">Model</A>&gt; 
<BR>
void</CODE></FONT></TD>
</TR>
</TABLE>
</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/petpet/c3po/dao/mongo/MongoPersistenceLayer.html#update(T, com.petpet.c3po.api.model.helper.Filter)">update</A></B>(T&nbsp;object,
       <A HREF="../../../../../com/petpet/c3po/api/model/helper/Filter.html" title="class in com.petpet.c3po.api.model.helper">Filter</A>&nbsp;f)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Inserts or updates all objects that correspond to the given filter.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="AGGREGATE_MAP"><!-- --></A><H3>
AGGREGATE_MAP</H3>
<PRE>
public static final <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>AGGREGATE_MAP</B></PRE>
<DL>
<DD>A javascript Map function for calculating the min, max, sum, avg, sd and
 var of a numeric property. Note that there is a wildcard @1 and wildcard @2
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../constant-values.html#com.petpet.c3po.dao.mongo.MongoPersistenceLayer.AGGREGATE_MAP">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="AGGREGATE_REDUCE"><!-- --></A><H3>
AGGREGATE_REDUCE</H3>
<PRE>
public static final <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>AGGREGATE_REDUCE</B></PRE>
<DL>
<DD>The reduce of the aggregation functions.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../constant-values.html#com.petpet.c3po.dao.mongo.MongoPersistenceLayer.AGGREGATE_REDUCE">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="AGGREGATE_FINALIZE"><!-- --></A><H3>
AGGREGATE_FINALIZE</H3>
<PRE>
public static final <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>AGGREGATE_FINALIZE</B></PRE>
<DL>
<DD>A finalize function for the aggregation map reduce job, to calculate the
 average, standard deviation and variance.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../constant-values.html#com.petpet.c3po.dao.mongo.MongoPersistenceLayer.AGGREGATE_FINALIZE">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="HISTOGRAM_MAP"><!-- --></A><H3>
HISTOGRAM_MAP</H3>
<PRE>
public static final <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>HISTOGRAM_MAP</B></PRE>
<DL>
<DD>A javascript Map function for building a histogram of a specific property.
 All occurrences of that property are used (if they do not have conflcited
 values). Note that there is a '@1' wildcard that has to be replaced with
 the id of the desired property, prior to usage.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../constant-values.html#com.petpet.c3po.dao.mongo.MongoPersistenceLayer.HISTOGRAM_MAP">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="DATE_HISTOGRAM_MAP"><!-- --></A><H3>
DATE_HISTOGRAM_MAP</H3>
<PRE>
public static final <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>DATE_HISTOGRAM_MAP</B></PRE>
<DL>
<DD>A javascript Map function for building a histogram over a specific date
 property. All occurrences of that property are used. If they are conflicted
 then they are aggregated under one key 'Conflcited'. If the property is
 missing, then the values are aggregated under the key 'Unknown'. Otherwise
 the year is used as the key. Note that there is a '@1' wildcard that has to
 be replaced with the id of the desired property, prior to usage.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../constant-values.html#com.petpet.c3po.dao.mongo.MongoPersistenceLayer.DATE_HISTOGRAM_MAP">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="NUMERIC_HISTOGRAM_MAP"><!-- --></A><H3>
NUMERIC_HISTOGRAM_MAP</H3>
<PRE>
public static final <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>NUMERIC_HISTOGRAM_MAP</B></PRE>
<DL>
<DD>A javascript Map function for building a histogram with fixed bin size. It
 takes two wild cards as parameters - The @1 is the numeric property and the @2
 is the bin size. The result contains the bins, where the id is from 0 to n
 and the value is the number of occurrences. Note that each bin has a fixed
 size so the label can be easily calculated. For example the id 0 marks the
 number of elements where the numeric property was between 0 and the width,
 the id 1 marks the number of elements where the numeric property was
 between the width and 2*width and so on.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../constant-values.html#com.petpet.c3po.dao.mongo.MongoPersistenceLayer.NUMERIC_HISTOGRAM_MAP">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="HISTOGRAM_REDUCE"><!-- --></A><H3>
HISTOGRAM_REDUCE</H3>
<PRE>
public static final <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>HISTOGRAM_REDUCE</B></PRE>
<DL>
<DD>The reduce function for the <CODE>Constants#HISTOGRAM_MAP</CODE>.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../constant-values.html#com.petpet.c3po.dao.mongo.MongoPersistenceLayer.HISTOGRAM_REDUCE">Constant Field Values</A></DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="MongoPersistenceLayer()"><!-- --></A><H3>
MongoPersistenceLayer</H3>
<PRE>
public <B>MongoPersistenceLayer</B>()</PRE>
<DL>
<DD>The constructor initializes all needed objects, such as the serializers and
 deserializers.
<P>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="establishConnection(java.util.Map)"><!-- --></A><H3>
establishConnection</H3>
<PRE>
public void <B>establishConnection</B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&gt;&nbsp;config)
                         throws <A HREF="../../../../../com/petpet/c3po/utils/exceptions/C3POPersistenceException.html" title="class in com.petpet.c3po.utils.exceptions">C3POPersistenceException</A></PRE>
<DL>
<DD>Establishes the connection to mongo database. This method relies on the
 following configs being passed as arguments: <br>
 db.name <br>
 db.host <br>
 db.port <br>
 
 Once the connection is open, the method will ensure that the mongo
 collections and indexes are created.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../com/petpet/c3po/api/dao/PersistenceLayer.html#establishConnection(java.util.Map)">establishConnection</A></CODE> in interface <CODE><A HREF="../../../../../com/petpet/c3po/api/dao/PersistenceLayer.html" title="interface in com.petpet.c3po.api.dao">PersistenceLayer</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>config</CODE> - the configuration
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/petpet/c3po/utils/exceptions/C3POPersistenceException.html" title="class in com.petpet.c3po.utils.exceptions">C3POPersistenceException</A></CODE> - if something goes wrong. Make sure to check the cause of the
           exception.</DL>
</DD>
</DL>
<HR>

<A NAME="close()"><!-- --></A><H3>
close</H3>
<PRE>
public void <B>close</B>()
           throws <A HREF="../../../../../com/petpet/c3po/utils/exceptions/C3POPersistenceException.html" title="class in com.petpet.c3po.utils.exceptions">C3POPersistenceException</A></PRE>
<DL>
<DD>If the connection is open, then this method closes it. Otherwise, nothing
 happens.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../com/petpet/c3po/api/dao/PersistenceLayer.html#close()">close</A></CODE> in interface <CODE><A HREF="../../../../../com/petpet/c3po/api/dao/PersistenceLayer.html" title="interface in com.petpet.c3po.api.dao">PersistenceLayer</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/petpet/c3po/utils/exceptions/C3POPersistenceException.html" title="class in com.petpet.c3po.utils.exceptions">C3POPersistenceException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="isConnected()"><!-- --></A><H3>
isConnected</H3>
<PRE>
public boolean <B>isConnected</B>()</PRE>
<DL>
<DD>Whether or not the persistence layer is connected.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../com/petpet/c3po/api/dao/PersistenceLayer.html#isConnected()">isConnected</A></CODE> in interface <CODE><A HREF="../../../../../com/petpet/c3po/api/dao/PersistenceLayer.html" title="interface in com.petpet.c3po.api.dao">PersistenceLayer</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>true if there is a connection, false otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="getCache()"><!-- --></A><H3>
getCache</H3>
<PRE>
public <A HREF="../../../../../com/petpet/c3po/api/dao/Cache.html" title="interface in com.petpet.c3po.api.dao">Cache</A> <B>getCache</B>()</PRE>
<DL>
<DD>Gets a cache object.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../com/petpet/c3po/api/dao/PersistenceLayer.html#getCache()">getCache</A></CODE> in interface <CODE><A HREF="../../../../../com/petpet/c3po/api/dao/PersistenceLayer.html" title="interface in com.petpet.c3po.api.dao">PersistenceLayer</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the cache of the application.</DL>
</DD>
</DL>
<HR>

<A NAME="setCache(com.petpet.c3po.api.dao.Cache)"><!-- --></A><H3>
setCache</H3>
<PRE>
public void <B>setCache</B>(<A HREF="../../../../../com/petpet/c3po/api/dao/Cache.html" title="interface in com.petpet.c3po.api.dao">Cache</A>&nbsp;c)</PRE>
<DL>
<DD>Sets the cache to the passed cache.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../com/petpet/c3po/api/dao/PersistenceLayer.html#setCache(com.petpet.c3po.api.dao.Cache)">setCache</A></CODE> in interface <CODE><A HREF="../../../../../com/petpet/c3po/api/dao/PersistenceLayer.html" title="interface in com.petpet.c3po.api.dao">PersistenceLayer</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>c</CODE> - the cache to use.</DL>
</DD>
</DL>
<HR>

<A NAME="clearCache()"><!-- --></A><H3>
clearCache</H3>
<PRE>
public void <B>clearCache</B>()</PRE>
<DL>
<DD>Clears the <A HREF="../../../../../com/petpet/c3po/dao/DBCache.html" title="class in com.petpet.c3po.dao"><CODE>DBCache</CODE></A> and removes all internally managed mongo
 collection that store cached results.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../com/petpet/c3po/api/dao/PersistenceLayer.html#clearCache()">clearCache</A></CODE> in interface <CODE><A HREF="../../../../../com/petpet/c3po/api/dao/PersistenceLayer.html" title="interface in com.petpet.c3po.api.dao">PersistenceLayer</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="find(java.lang.Class, com.petpet.c3po.api.model.helper.Filter)"><!-- --></A><H3>
find</H3>
<PRE>
public &lt;T extends <A HREF="../../../../../com/petpet/c3po/api/model/Model.html" title="interface in com.petpet.c3po.api.model">Model</A>&gt; <A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</A>&lt;T&gt; <B>find</B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</A>&lt;T&gt;&nbsp;clazz,
                                          <A HREF="../../../../../com/petpet/c3po/api/model/helper/Filter.html" title="class in com.petpet.c3po.api.model.helper">Filter</A>&nbsp;filter)</PRE>
<DL>
<DD>Finds objects corresponding to the supplied filter and type. The type has
 to implement the Model interface. Retrieves an iterator for the objects.
 
 Note that depending on the underlying implementation this method might
 fetch a lot of data from the database.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../com/petpet/c3po/api/dao/PersistenceLayer.html#find(java.lang.Class, com.petpet.c3po.api.model.helper.Filter)">find</A></CODE> in interface <CODE><A HREF="../../../../../com/petpet/c3po/api/dao/PersistenceLayer.html" title="interface in com.petpet.c3po.api.dao">PersistenceLayer</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>clazz</CODE> - the generic type of the iterator<DD><CODE>filter</CODE> - the optional filter.
<DT><B>Returns:</B><DD>a typed iterator for the given type of objects.</DL>
</DD>
</DL>
<HR>

<A NAME="insert(com.petpet.c3po.api.model.Model)"><!-- --></A><A NAME="insert(T)"><!-- --></A><H3>
insert</H3>
<PRE>
public &lt;T extends <A HREF="../../../../../com/petpet/c3po/api/model/Model.html" title="interface in com.petpet.c3po.api.model">Model</A>&gt; void <B>insert</B>(T&nbsp;object)</PRE>
<DL>
<DD>Inserts the given object to the underlying data store.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../com/petpet/c3po/api/dao/PersistenceLayer.html#insert(T)">insert</A></CODE> in interface <CODE><A HREF="../../../../../com/petpet/c3po/api/dao/PersistenceLayer.html" title="interface in com.petpet.c3po.api.dao">PersistenceLayer</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>object</CODE> - the object to store.</DL>
</DD>
</DL>
<HR>

<A NAME="update(com.petpet.c3po.api.model.Model,com.petpet.c3po.api.model.helper.Filter)"><!-- --></A><A NAME="update(T, com.petpet.c3po.api.model.helper.Filter)"><!-- --></A><H3>
update</H3>
<PRE>
public &lt;T extends <A HREF="../../../../../com/petpet/c3po/api/model/Model.html" title="interface in com.petpet.c3po.api.model">Model</A>&gt; void <B>update</B>(T&nbsp;object,
                                     <A HREF="../../../../../com/petpet/c3po/api/model/helper/Filter.html" title="class in com.petpet.c3po.api.model.helper">Filter</A>&nbsp;f)</PRE>
<DL>
<DD>Inserts or updates all objects that correspond to the given filter. Note,
 however, that if the object or the passed filter is null, nothing will
 happen. Note, also that the updated document is not replaced but $set is
 used on the changed fields. This implies that the caller has to make sure,
 the passed object has only the fields that will be updated. All other
 fields should be null or empty.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../com/petpet/c3po/api/dao/PersistenceLayer.html#update(T, com.petpet.c3po.api.model.helper.Filter)">update</A></CODE> in interface <CODE><A HREF="../../../../../com/petpet/c3po/api/dao/PersistenceLayer.html" title="interface in com.petpet.c3po.api.dao">PersistenceLayer</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>object</CODE> - the object to update.<DD><CODE>filter</CODE> - the filter to apply in order to select the objects that will be
          updated.</DL>
</DD>
</DL>
<HR>

<A NAME="remove(com.petpet.c3po.api.model.Model)"><!-- --></A><A NAME="remove(T)"><!-- --></A><H3>
remove</H3>
<PRE>
public &lt;T extends <A HREF="../../../../../com/petpet/c3po/api/model/Model.html" title="interface in com.petpet.c3po.api.model">Model</A>&gt; void <B>remove</B>(T&nbsp;object)</PRE>
<DL>
<DD>Removes the given object from the underlying data store.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../com/petpet/c3po/api/dao/PersistenceLayer.html#remove(T)">remove</A></CODE> in interface <CODE><A HREF="../../../../../com/petpet/c3po/api/dao/PersistenceLayer.html" title="interface in com.petpet.c3po.api.dao">PersistenceLayer</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>object</CODE> - the object to remove.</DL>
</DD>
</DL>
<HR>

<A NAME="remove(java.lang.Class, com.petpet.c3po.api.model.helper.Filter)"><!-- --></A><H3>
remove</H3>
<PRE>
public &lt;T extends <A HREF="../../../../../com/petpet/c3po/api/model/Model.html" title="interface in com.petpet.c3po.api.model">Model</A>&gt; void <B>remove</B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</A>&lt;T&gt;&nbsp;clazz,
                                     <A HREF="../../../../../com/petpet/c3po/api/model/helper/Filter.html" title="class in com.petpet.c3po.api.model.helper">Filter</A>&nbsp;filter)</PRE>
<DL>
<DD>Removes the objects of the given type that match the filter from the
 underlying data store. If the filter is null, then all objects are removed.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../com/petpet/c3po/api/dao/PersistenceLayer.html#remove(java.lang.Class, com.petpet.c3po.api.model.helper.Filter)">remove</A></CODE> in interface <CODE><A HREF="../../../../../com/petpet/c3po/api/dao/PersistenceLayer.html" title="interface in com.petpet.c3po.api.dao">PersistenceLayer</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>clazz</CODE> - the type of object to remove<DD><CODE>filter</CODE> - the filter to match. Can be null.</DL>
</DD>
</DL>
<HR>

<A NAME="count(java.lang.Class, com.petpet.c3po.api.model.helper.Filter)"><!-- --></A><H3>
count</H3>
<PRE>
public &lt;T extends <A HREF="../../../../../com/petpet/c3po/api/model/Model.html" title="interface in com.petpet.c3po.api.model">Model</A>&gt; long <B>count</B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</A>&lt;T&gt;&nbsp;clazz,
                                    <A HREF="../../../../../com/petpet/c3po/api/model/helper/Filter.html" title="class in com.petpet.c3po.api.model.helper">Filter</A>&nbsp;filter)</PRE>
<DL>
<DD>Counts the number of objects of the given type that match the filter. If
 the filter is null, the count of all objects of that type is retrieved.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../com/petpet/c3po/api/dao/PersistenceLayer.html#count(java.lang.Class, com.petpet.c3po.api.model.helper.Filter)">count</A></CODE> in interface <CODE><A HREF="../../../../../com/petpet/c3po/api/dao/PersistenceLayer.html" title="interface in com.petpet.c3po.api.dao">PersistenceLayer</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>clazz</CODE> - the type of objects<DD><CODE>filter</CODE> - the filter.
<DT><B>Returns:</B><DD>the number of objects corresponding to that type and filter.</DL>
</DD>
</DL>
<HR>

<A NAME="distinct(java.lang.Class, java.lang.String, com.petpet.c3po.api.model.helper.Filter)"><!-- --></A><H3>
distinct</H3>
<PRE>
public &lt;T extends <A HREF="../../../../../com/petpet/c3po/api/model/Model.html" title="interface in com.petpet.c3po.api.model">Model</A>&gt; <A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&gt; <B>distinct</B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</A>&lt;T&gt;&nbsp;clazz,
                                               <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;f,
                                               <A HREF="../../../../../com/petpet/c3po/api/model/helper/Filter.html" title="class in com.petpet.c3po.api.model.helper">Filter</A>&nbsp;filter)</PRE>
<DL>
<DD>Returns the distinct values for the given property (in string form). If the
 passed filter is not null, then it is applied on the collection before
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../com/petpet/c3po/api/dao/PersistenceLayer.html#distinct(java.lang.Class, java.lang.String, com.petpet.c3po.api.model.helper.Filter)">distinct</A></CODE> in interface <CODE><A HREF="../../../../../com/petpet/c3po/api/dao/PersistenceLayer.html" title="interface in com.petpet.c3po.api.dao">PersistenceLayer</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>clazz</CODE> - the type of the objects to look at.<DD><CODE>f</CODE> - the field for which the distinct values have to be applied<DD><CODE>filter</CODE> - the filter that has to be applied on the data before the distinct
          operation is executed
<DT><B>Returns:</B><DD>the distinct values for a given property</DL>
</DD>
</DL>
<HR>

<A NAME="getValueHistogramFor(com.petpet.c3po.api.model.Property, com.petpet.c3po.api.model.helper.Filter)"><!-- --></A><H3>
getValueHistogramFor</H3>
<PRE>
public &lt;T extends <A HREF="../../../../../com/petpet/c3po/api/model/Model.html" title="interface in com.petpet.c3po.api.model">Model</A>&gt; <A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</A>&gt; <B>getValueHistogramFor</B>(<A HREF="../../../../../com/petpet/c3po/api/model/Property.html" title="class in com.petpet.c3po.api.model">Property</A>&nbsp;p,
                                                               <A HREF="../../../../../com/petpet/c3po/api/model/helper/Filter.html" title="class in com.petpet.c3po.api.model.helper">Filter</A>&nbsp;filter)
                                      throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/UnsupportedOperationException.html?is-external=true" title="class or interface in java.lang">UnsupportedOperationException</A></PRE>
<DL>
<DD>Gets a value histogram for the given property and the given filter. This
 method works only over the elements mongo collection. Note that it does
 some internal caching and relies upon the fact that the
 <A HREF="../../../../../com/petpet/c3po/api/dao/PersistenceLayer.html#clearCache()"><CODE>PersistenceLayer.clearCache()</CODE></A> method will be called every time new
 elements are added.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../com/petpet/c3po/api/dao/PersistenceLayer.html#getValueHistogramFor(com.petpet.c3po.api.model.Property, com.petpet.c3po.api.model.helper.Filter)">getValueHistogramFor</A></CODE> in interface <CODE><A HREF="../../../../../com/petpet/c3po/api/dao/PersistenceLayer.html" title="interface in com.petpet.c3po.api.dao">PersistenceLayer</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>p</CODE> - the property for which the value histogram will be created in the
          corresponding model object<DD><CODE>filter</CODE> - the filter that has to be applied before the operation is
          conducted
<DT><B>Returns:</B><DD>a map with the distinct values as keys (strings) and their
         occurrences as map-values (long)
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/UnsupportedOperationException.html?is-external=true" title="class or interface in java.lang">UnsupportedOperationException</A></CODE> - if the current persistence layer cannot create such a histogram.</DL>
</DD>
</DL>
<HR>

<A NAME="getNumericStatistics(com.petpet.c3po.api.model.Property, com.petpet.c3po.api.model.helper.Filter)"><!-- --></A><H3>
getNumericStatistics</H3>
<PRE>
public <A HREF="../../../../../com/petpet/c3po/api/model/helper/NumericStatistics.html" title="class in com.petpet.c3po.api.model.helper">NumericStatistics</A> <B>getNumericStatistics</B>(<A HREF="../../../../../com/petpet/c3po/api/model/Property.html" title="class in com.petpet.c3po.api.model">Property</A>&nbsp;p,
                                              <A HREF="../../../../../com/petpet/c3po/api/model/helper/Filter.html" title="class in com.petpet.c3po.api.model.helper">Filter</A>&nbsp;filter)
                                       throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/UnsupportedOperationException.html?is-external=true" title="class or interface in java.lang">UnsupportedOperationException</A>,
                                              <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</A></PRE>
<DL>
<DD>Gets the numeric statistics for the given property and the given filter.
 This method works only over the elements mongo collection. Note that it
 does some internal caching and relies upon the fact that the
 <A HREF="../../../../../com/petpet/c3po/api/dao/PersistenceLayer.html#clearCache()"><CODE>PersistenceLayer.clearCache()</CODE></A> method will be called every time new
 elements are added. Also note that the property has to be numeric and that
 it cannot be null.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../com/petpet/c3po/api/dao/PersistenceLayer.html#getNumericStatistics(com.petpet.c3po.api.model.Property, com.petpet.c3po.api.model.helper.Filter)">getNumericStatistics</A></CODE> in interface <CODE><A HREF="../../../../../com/petpet/c3po/api/dao/PersistenceLayer.html" title="interface in com.petpet.c3po.api.dao">PersistenceLayer</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>p</CODE> - the property for which the statistcs will be created.<DD><CODE>filter</CODE> - the filter to apply.
<DT><B>Returns:</B><DD><A HREF="../../../../../com/petpet/c3po/api/model/helper/NumericStatistics.html" title="class in com.petpet.c3po.api.model.helper"><CODE>NumericStatistics</CODE></A> object containing statistics like: min,
         max, avg, sd, var, etc.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</A></CODE> - if the property is null or not numeric.
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/UnsupportedOperationException.html?is-external=true" title="class or interface in java.lang">UnsupportedOperationException</A></CODE> - if the operation is not supported by the implementing backend</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/MongoPersistenceLayer.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../com/petpet/c3po/dao/mongo/MongoModelSerializer.html" title="interface in com.petpet.c3po.dao.mongo"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../com/petpet/c3po/dao/mongo/MongoPropertyDeserialzer.html" title="class in com.petpet.c3po.dao.mongo"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?com/petpet/c3po/dao/mongo/MongoPersistenceLayer.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="MongoPersistenceLayer.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &#169; 2013. All Rights Reserved.
</BODY>
</HTML>
